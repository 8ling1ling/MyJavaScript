<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拖拽</title>
</head>
<style>
    #div1{
        height: 150px;
        width: 150px;
        background-color: #ffebcd;
        position: absolute;
    }
    #div2{
        top: 300px;
        left: 200px;
        height: 250px;
        width: 150px;
        background-color: #bbffaa;
        position: absolute;
    }
</style>
<body>
    <div id="div1"></div>
    <div id="div2"></div>
</body>
</html>
<script>
    /*
    拖拽实现
    1.onmousedown：鼠标按下
    2.onmousemove: 移动鼠标
    3.onmouseup:鼠标松开
    */
   var div1=document.getElementById("div1");
   var div2=document.getElementById("div2");
   div1.onmousedown=function(evevt){
      //这样的结果是不管鼠标点击div哪个位置，x/y都是以左上角为原点的。
        //改进：当鼠标点击哪个位置时，就以哪个位置为相对原点移动。

        /*计算出水平方向的鼠标点击处到div的距离：
        点击处鼠标的水平位置-div到视图左边的位置
        vent.clientX-div.offsetleft*/
        var Rleft=evevt.clientX-div1.offsetLeft;
        //竖直方向同理
        var Rtop=evevt.clientY-div1.offsetTop;
    document.onmousemove=function(evevt){
        div1.style.left=evevt.clientX-Rleft+"px";
        div1.style.top=evevt.clientY-Rtop+"px";
    }
    // div1.onmouseup=function(){   当div在另外一个div后面的时候，此时松开鼠标div仍然会跟随鼠标移动
    document.onmouseup=function(){
        //当鼠标松开的时候，把移动事件和本次事件清零
        document.onmousemove=null;
        document.onmouseup=null;
    }
   }
</script>